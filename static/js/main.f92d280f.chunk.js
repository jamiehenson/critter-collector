(this["webpackJsonpcritter-collector"]=this["webpackJsonpcritter-collector"]||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/sand.320ecf95.png"},21:function(e,t,n){e.exports=n.p+"static/media/grass.8eb8a5fb.png"},22:function(e,t,n){e.exports=n.p+"static/media/water.879caf56.png"},23:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADcAAAA3CAIAAAAnuUURAAADW0lEQVRogdWaOVATURyHvzWGQEgIIa5yiKCiKB54jedoZhwbKxsbGysLx8KxcMaxsLJwmNHGysLKxsZGGxsbdTwHD1TwQgS5CTEcMQRixOI9Rt1wbLJX/Kr8djZvvslk3/v/31v4H1BYXAQwnSadgmmnfTQouNwoLoUCP4vc8uKvFKkE02lHzTJQXArAIjeeAC6PvJqeZHKUXykHxTQofz66CihScXtlTCWYiJCeckRLg6K94CrEV0mBT8apOPE+0kmbtTRkWAoWeympwVMi4+QYY138TNimpWEOS4HbR7COwlIZkyPE2knFbdDSMK+loMBPqIGikIwTUaJtTI1bqqVBh6XAE0BtxKvKmIgQaWFy1CItDbotBYVByndQvEzGH4MMNJOMma6lIUtLQWGIqr34KmSM99P7mGTURC0NOVkKipZQHca/XMbxHrrvMzFsipYGA5YC71JqD1GyQsaxb3TeIzFkdNh/MWwpKC5n1WECtTKOdtJxlx8D5gxumqXAV0ndEUpXyTjSQftt4n3GBzbVUuCvov4owTUyxj7z8RbjvUaGtMBS4K+m4Rhl9TJ+/0jbTca7cxvMMktBSQ0bjxNaL2P0Pe9uMNaV7TAWWwoCK9l8AnWDjJFW3lxn9Kv+AWyxFJSuZutJ1M0yRt7w6hojX/R81UZLQbCO7adZukXGode8uEqsff4v2W4pCK5l51nKt8k48JLnl4l9mut2hywFZevYfZ6KHTL2N/P0Et8/ZN7oqKUg1MDeC1TukrHvGY8vEm37+5Y8sBQs2cD+i1TtkbH3CQ8vMNwqUt5YCtRNhJtYvk/GnkfcP0fkrYLaSKTFUbUM1EYOXqH6gIzdD1yc6qY6zFALiUFH1f4iMUjrDT7fIbSOQA2BGoUzM73LzM/rqGAG6ibCTcr8f9s8Yebp0TEdOMi/z7juadZmZpuJsly+bGDu+TKnssAiFprVDZRbJqJv7TFcxhokmxXSpPYgB7Jfx01tu3SSa7VhQTs7D8ZqIsu2CTSYUblZvP2CmfWlldtaZlfB1mwXWlOrm70Na2VHYd72tvV9jxnHBnZ1Z8aOY+ztIXM95nKi083++NC5fjybY1mndw30HXc7bSlY6DWC/LAUKC7c3llfz8gnS4l8o0Sm6TTp1G+1HEY09xczFAAAAABJRU5ErkJggg=="},26:function(e,t,n){e.exports=n(38)},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(8),o=n.n(i),l=(n(31),n(1)),c=n(2),s=n(3),u=n(9),d=n(5),p=n(10),h={UPDATE_PLAYER_POSITION:"UPDATE_PLAYER_POSITION",ADD_CRITTER_TO_WORLD:"ADD_CRITTER_TO_WORLD",ADD_CRITTER_TO_PLAYER:"ADD_CRITTER_TO_PLAYER",ADVANCE_FROM_BATTLE:"ADVANCE_FROM_BATTLE",REMOVE_CRITTER_FROM_WORLD:"REMOVE_CRITTER_FROM_WORLD",UPDATE_ACTIVE_CRITTER_FIGHTER:"UPDATE_ACTIVE_CRITTER_FIGHTER",START_GAME:"START_GAME",INCREASE_CRITTER_LEVEL:"INCREASE_CRITTER_LEVEL",ADD_CLINIC_TO_WORLD:"ADD_CLINIC_TO_WORLD",UPDATE_BATTLE_STATUS:"UPDATE_BATTLE_STATUS",INITIATE_BATTLE:"INITIATE_BATTLE",FLEE_BATTLE:"FLEE_BATTLE"},f=function(e){return{type:h.UPDATE_PLAYER_POSITION,payload:e}},m=function(){return{type:h.ADD_CRITTER_TO_WORLD}},v=function(e){return{type:h.ADD_CRITTER_TO_PLAYER,payload:e}},g=function(e){return{type:h.REMOVE_CRITTER_FROM_WORLD,payload:e}},y=function(e){return{type:h.UPDATE_ACTIVE_CRITTER_FIGHTER,payload:e}},E=function(){return{type:h.START_GAME}},b=function(e){return{type:h.INCREASE_CRITTER_LEVEL,payload:e}},T=function(){return{type:h.ADD_CLINIC_TO_WORLD}},O=function(e){return{type:h.UPDATE_BATTLE_STATUS,payload:e}},w=function(){return{type:h.INITIATE_BATTLE}},C=function(){return{type:h.FLEE_BATTLE}},A=h,x={fire:{fire:1,water:.5,grass:1.5},water:{fire:1.5,water:1,grass:.5},grass:{fire:.5,water:1.5,grass:1}},_=[{critterId:1,name:"dog",type:"fire",icon:"\ud83d\udc36"},{critterId:2,name:"cat",type:"fire",icon:"\ud83d\udc31"},{critterId:3,name:"mouse",type:"grass",icon:"\ud83d\udc2d"},{critterId:4,name:"rabbit",type:"grass",icon:"\ud83d\udc30"},{critterId:5,name:"gerbil",type:"grass",icon:"\ud83d\udc39"},{critterId:6,name:"fox",type:"water",icon:"\ud83e\udd8a"},{critterId:7,name:"bear",type:"water",icon:"\ud83d\udc3b"},{critterId:8,name:"panda",type:"water",icon:"\ud83d\udc3c"},{critterId:9,name:"koala",type:"water",icon:"\ud83d\udc28"},{critterId:10,name:"tiger",type:"fire",icon:"\ud83d\udc2f"},{critterId:11,name:"lion",type:"fire",icon:"\ud83e\udd81"},{critterId:12,name:"cow",type:"grass",icon:"\ud83d\udc2e"},{critterId:13,name:"pig",type:"grass",icon:"\ud83d\udc37"},{critterId:14,name:"frog",type:"water",icon:"\ud83d\udc38"},{critterId:15,name:"monkey",type:"fire",icon:"\ud83d\udc35"}];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e,t){switch(t.type){case A.UPDATE_PLAYER_POSITION:var n=t.payload,r=e.player,a=r.position,i=r.direction,o=r.battle,l=r.critters,c=e.world,s=c.worldSize,u=c.critters,p=c.clinic;if("play"!==e.ui.gameState||o.active)return e;var h=function(e,t){var n="x"===e?"y":"x",r=u.find((function(r){return r.position[n]===a[n]&&r.position[e]===a[e]-t})),i=a[n]===p[n]&&a[e]===p[e]-t;return r||i},f={up:h("y",-1),down:h("y",1),left:h("x",-1),right:h("x",1)};n&&(["w","ArrowUp","87","38"].includes(n)?(f.up||(a={x:a.x,y:Math.max(a.y-1,0)}),i="up"):["s","ArrowDown","83","40"].includes(n)?(f.down||(a={x:a.x,y:Math.min(a.y+1,s-1)}),i="down"):["a","ArrowLeft","65","37"].includes(n)?(f.left||(a={x:Math.max(a.x-1,0),y:a.y}),i="left"):["d","ArrowRight","68","39"].includes(n)&&(f.right||(a={x:Math.min(a.x+1,s-1),y:a.y}),i="right"));var m=u.filter((function(e){var t=Math.abs(a.x-e.position.x),n=Math.abs(a.y-e.position.y),r=l.find((function(e){return e.activeFighter}));return t<=1&&n<=1?(o=R({},o,{active:!0,opponent:e,log:[],fighter:r,initialFighter:r,paused:!0}),!0):t<=2&&n<=2&&(o.active=!1,!0)})),v=Math.abs(a.x-p.x),g=Math.abs(a.y-p.y),y=v<=1&&g<=1,E=y?Object(d.a)(l).map((function(e){return R({},e,{healthPoints:e.fullHealthPoints})})):l,b={player:R({},e.player,{position:a,direction:i,nearbyCritters:m,battle:o,critters:E}),ui:R({},e.ui,{clinic:y})};return Object.assign({},e,b);case A.ADD_CRITTER_TO_WORLD:var T=e.world,O=T.worldSize,w=T.critters,C=T.critterCounter,x=Math.floor(Math.random()*O),P=Math.floor(Math.random()*O),I=w,j=Math.floor(100*Math.random()+50),M=Math.max(Math.floor(e.world.critterCounter/5)-2,0),L={id:C,position:{x:x,y:P},healthPoints:j,fullHealthPoints:j,combatPoints:Math.floor(20*Math.random()+20),level:Math.ceil(3*Math.random())+M},S=Object.assign({},_[Math.floor(Math.random()*_.length)],L);return I.push(S),Object.assign({},e,{world:R({},e.world,{critterCounter:C+1,critters:I})});case A.ADD_CRITTER_TO_PLAYER:var D=e.player.critters;if(t.payload){var k=Object(d.a)(e.world.critters).find((function(e){return e.id===t.payload.id}));k.activeFighter=!1,delete k.position,D.push(k)}else{var F=Math.floor(100*Math.random()+50),N={id:e.world.critterCounter,healthPoints:F,fullHealthPoints:F,combatPoints:Math.floor(20*Math.random()+20),level:Math.ceil(3*Math.random()),activeFighter:0===D.length},z=Object.assign({},_[Math.floor(Math.random()*_.length)],N);D.push(z)}return Object.assign({},e,{player:R({},e.player,{critters:D}),world:R({},e.world,{critterCounter:e.world.critterCounter+1})});case A.ADVANCE_FROM_BATTLE:return e.player.critters.find((function(e){return e.healthPoints>0}))?Object.assign({},e,{player:R({},e.player,{battle:{active:!1}})}):Object.assign({},e,{player:R({},e.player,{battle:{active:!1}}),ui:R({},e.ui,{gameState:"end"})});case A.REMOVE_CRITTER_FROM_WORLD:var B=Object(d.a)(e.player.nearbyCritters),U=Object(d.a)(e.world.critters),W=B.find((function(e){return e.id===t.payload.id})),G=U.find((function(e){return e.id===t.payload.id}));return G&&W?(B.splice(B.indexOf(W),1),U.splice(U.indexOf(G),1),Object.assign({},e,{world:R({},e.world,{critters:U}),player:R({},e.player,{nearbyCritters:B})})):e;case A.UPDATE_ACTIVE_CRITTER_FIGHTER:var Y=Object(d.a)(e.player.critters).map((function(e){return R({},e,{activeFighter:e.id===t.payload.id})}));return Object.assign({},e,{player:R({},e.player,{critters:Y})});case A.START_GAME:return Object.assign({},e,{ui:R({},e.ui,{gameState:"play"})});case A.INCREASE_CRITTER_LEVEL:var V=Object(d.a)(e.player.critters).map((function(e){return e.id===t.payload.id&&(e.level+=1),e}));return Object.assign({},e,{player:R({},e.player,{critters:V})});case A.ADD_CLINIC_TO_WORLD:for(var H=!0,K=function(){var t={x:Math.floor(Math.random()*e.world.worldSize),y:Math.floor(Math.random()*e.world.worldSize)},n=e.world.critters.find((function(e){return e.position===t})),r=e.player.position===t;if(!n&&!r)return H=!1,{v:Object.assign({},e,{world:R({},e.world,{clinic:t})})}};H;){var J=K();if("object"===typeof J)return J.v}return e;case A.UPDATE_BATTLE_STATUS:var Q=t.payload;return Object.assign({},e,{player:R({},e.player,{battle:Q})});case A.INITIATE_BATTLE:return Object.assign({},e,{player:R({},e.player,{battle:R({},e.player.battle,{paused:!1})})});case A.FLEE_BATTLE:return Object.assign({},e,{player:R({},e.player,{battle:{active:!1}})});default:return e}};function j(){var e=Object(l.a)(["\n  position: absolute;\n  transition: margin-left 0.1s, margin-top 0.1s;\n  will-change: margin-left, margin-top;\n"]);return j=function(){return e},e}var M=c.a.div(j()),L=Object(s.b)((function(e){return{world:e.world,player:e.player}}),(function(e){return{updatePlayerPosition:function(t){return e(f(t))}}}))((function(e){var t=e.updatePlayerPosition,n=e.player,i=e.world,o=e.cells,l=i.cellSize,c=i.edgeCellPosition,s={marginLeft:"".concat(-(n.position.x-c)*l,"%"),marginTop:"".concat(-(n.position.y-c)*l,"%")};return Object(r.useEffect)((function(){return window.addEventListener("keydown",(function(e){t(e.key||e.keyCode)})),function(){window.removeEventListener("keydown",(function(e){t(e.key||e.keyCode)}))}}),[t]),a.a.createElement(M,{style:s},o)})),S=n(19);function D(){var e=Object(l.a)(["\n  font-size: 8vh;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto 2vh;\n  width: 8vh;\n  height: 8vh;\n  border-radius: 5px;\n  .type {\n    position: absolute;\n    font-size: 3vh;\n    bottom: 0;\n    right: 0;\n  }\n"]);return D=function(){return e},e}function k(){var e=Object(l.a)(["\n  width: 100%;\n  flex: 1;\n  overflow-y: auto;\n  background: rgba(0, 0, 0, 0.5);\n  margin: 2vh 0;\n  p {\n    font-size: 1.2vh;\n    margin: 1vh;\n  }\n"]);return k=function(){return e},e}function F(){var e=Object(l.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  > div {\n    text-align: center;\n    padding: 2vh;\n    flex: none;\n  }\n  small {\n    display: block;\n    margin-top: 1vh;\n    font-size: 1.2vh;\n  }\n  .fightCritter {\n    flex: 1;\n    background: rgba(0, 0, 0, 0.4);\n    border-radius: 5px;\n  }\n"]);return F=function(){return e},e}function N(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  p {\n    margin: 0 2vh;\n  }\n"]);return N=function(){return e},e}function z(){var e=Object(l.a)(["\n  width: calc(100% - 8vh);\n  display: flex;\n  height: calc(","vh - 11vh - 20vh);\n  position: absolute;\n  top: 0;\n  margin: 2vh;\n  background: rgba(40, 40, 40, 0.75);\n  border-radius: 5px;\n  padding: 2vh;\n  color: white;\n  font-weight: bold;\n  align-items: center;\n  flex-direction: column;\n  font-size: 3vh;\n  text-shadow: 0 0 2px black;\n  p {\n    margin: 0;\n  }\n  h2 {\n    margin: 2vh 0;\n  }\n"]);return z=function(){return e},e}var B=Object(s.b)(null,(function(e){return{addCritterToPlayer:function(t){return e(v(t))},advanceFromBattle:function(){return e({type:h.ADVANCE_FROM_BATTLE})},initiateBattle:function(){return e(w())},fleeBattle:function(){return e(C())}}}))((function(e){var t=e.ui,n=e.player,r=e.advanceFromBattle,i=e.initiateBattle,o=e.fleeBattle,l=n.battle,c=l.fighter,s=l.opponent,u=l.log,d=l.paused,p=l.initialFighter;return a.a.createElement(G,{scaling:t.scalingFactor},a.a.createElement("h2",null,"BATTLE!"),a.a.createElement(V,null,a.a.createElement("div",{className:"fightCritter",style:{backgroundColor:W(p.type)}},a.a.createElement(K,null,a.a.createElement("span",{className:"icon"},p.icon),a.a.createElement("span",{className:"type"},U(p.type))),a.a.createElement("p",null,ne(p.name)),a.a.createElement("small",null,"Lv. ",c.level),c===p?a.a.createElement("small",null,"(HP: ",c.healthPoints*c.level,", CP: ",c.combatPoints*c.level,")"):a.a.createElement("small",null,"FAINTED")),a.a.createElement("div",null,"VS"),a.a.createElement("div",{className:"fightCritter",style:{backgroundColor:W(s.type)}},a.a.createElement(K,null,a.a.createElement("span",{className:"icon"},s.icon),a.a.createElement("span",{className:"type"},U(s.type))),a.a.createElement("p",null,ne(s.name)),a.a.createElement("small",null,"Lv. ",s.level),s.healthPoints>0?a.a.createElement("small",null,"(HP: ",s.healthPoints*s.level,", CP: ",s.combatPoints*s.level,")"):a.a.createElement("small",null,"FAINTED"))),d?a.a.createElement(Y,null,a.a.createElement(ie,{onClick:function(){return i()}},"FIGHT"),a.a.createElement("p",null,"OR"),a.a.createElement(ie,{onClick:function(){return o()}},"FLEE")):a.a.createElement(a.a.Fragment,null,a.a.createElement(H,null,u.map((function(e,t){return a.a.createElement("p",{key:t},e)}))),a.a.createElement(ie,{onClick:function(){return r()}},"Advance")))})),U=function(e){return"fire"===e?"\ud83d\udd25":"water"===e?"\ud83d\udca7":"grass"===e?"\ud83c\udf31":void 0},W=function(e){return"fire"===e?"rgba(255, 0, 0, 0.3)":"water"===e?"rgba(0, 0, 255, 0.3)":"grass"===e?"rgba(0, 255, 0, 0.3)":void 0},G=c.a.div(z(),(function(e){return 100*e.scaling})),Y=c.a.div(N()),V=c.a.div(F()),H=c.a.div(k()),K=c.a.div(D()),J={colours:{grey:"#333333",purple:"#6f2da8"}};function Q(){var e=Object(l.a)(["\n  width: calc(100% - 4vh);\n  background: rgba(255,0,0,0.6);\n  height: calc(100% - 4vh);\n  margin-bottom: calc(-20vh + 5vh);\n  z-index: 2;\n  position: relative;\n  padding: 2vh;\n  display: flex;\n  align-items: center;\n  font-size: 2vh;\n  justify-content: center;\n  border-radius: 5px;\n  text-align: center;\n  line-height: 2;\n"]);return Q=function(){return e},e}function X(){var e=Object(l.a)(["\n  margin-top: 1vh;\n  max-height: 13vh;\n  overflow-y: scroll;\n  > div { \n    display: inline-flex;\n    align-items: center;\n    width: calc(100% / 3);\n  }\n  .icon {\n    font-size: 4vh;\n    position: relative;\n    width: 4vh;\n    height: 4vh;\n  }\n  .active {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    width: 1.5vh;\n    height: 1.5vh;\n    font-size: 1vh;\n  }\n  .stats {\n    font-size: 1.2vh;\n    line-height: 2vh;\n    margin-left: 1vh;\n  }\n"]);return X=function(){return e},e}function Z(){var e=Object(l.a)(["\n  width: calc(100% - 6vh);\n  display: flex;\n  height: 20vh;\n  position: absolute;\n  bottom: 0;\n  margin: 2vh;\n  background: rgba(40, 40, 40, 0.4);\n  border-radius: 5px;\n  padding: 1vh;\n  color: white;\n  font-weight: bold;\n  text-shadow: 0 0 2px black;\n  > div {\n    flex: 1;\n    padding: 2vh;\n    margin: 0.5vh;\n    background: rgba(40, 40, 40, 0.4);\n    border-radius: 5px;\n    &:last-child {\n      width: 20vh;\n      flex: none;\n    }\n  }\n  h3 {\n    margin: 0;\n    font-size: 1.6vh;\n  }\n  p {\n    margin: 0;\n  }\n"]);return Z=function(){return e},e}function q(){var e=Object(l.a)(["\n  -webkit-appearance: none;\n  padding: 1vh 3vh;\n  background: black;\n  border: 0;\n  margin: 1vh;\n  color: white;\n  font-size: 2vh;\n  border-radius: 5px;\n  text-transform: uppercase;\n  font-family: 'Press Start 2P', sans-serif;\n  cursor: pointer;\n  &:hover {\n    background: ",";\n  }\n  border: 2px solid white;\n"]);return q=function(){return e},e}function $(){var e=Object(l.a)(["\n  position: relative;\n  height: calc(100% - 2.5vh);\n  padding: 4vh;\n  color: white;\n  background: rgba(0, 0, 0, 0.9);\n  line-height: 2;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  z-index: 10;\n  text-align: center;\n  h1, h2 {\n    margin-top: 0;\n  }\n  h1 {\n    font-size: 6vh;\n    text-align: center;\n    pointer-events: none;\n    > div span {\n      ","\n      &:nth-child(8) {\n        display: block !important;\n        height: 2vh;\n      }\n    }\n  }\n  h2 {\n    font-size: 3vh;\n  }\n  p {\n    font-size: 2vh;\n  }\n  .bigIconMenu, .bigIconEnd {\n    font-size: 15vh;\n    width: 15vh;\n    margin: 0;\n    padding: 0;\n    margin-top: -7vh;\n  }\n  .bigIconMenu {\n    width: auto;\n    pointer-events: none;\n    span {\n      margin: 0 1vh;\n      animation: "," 3s infinite linear;\n      display: inline-block;\n    }\n  }\n  small {\n    margin-top: 3vh;\n    font-size: 1.4vh;\n  }\n"]);return $=function(){return e},e}function ee(){var e=Object(l.a)(["\n  0%, 50%, 100% { \n    transform: rotate(0deg); \n  }\n  25% { \n    transform: rotate(30deg); \n  }\n  75% { \n    transform: rotate(-30deg); \n  }\n"]);return ee=function(){return e},e}var te=function(e){var t=e.player,n=e.ui,r=t.critters,i=t.nearbyCritters;return a.a.createElement(oe,null,a.a.createElement("div",null,n.clinic&&a.a.createElement(ce,null,"All Critters fully healed!"),a.a.createElement("h3",null,"Your Critters (",r.length,")"),a.a.createElement(le,null,r.map((function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("span",{className:"icon"},a.a.createElement("span",{className:"icon-image"},e.icon),a.a.createElement("span",{className:"active"},e.activeFighter?"\u2705":"")),a.a.createElement("span",{className:"stats"},a.a.createElement("p",null,"LV: ",e.level),a.a.createElement("p",null,"HP: ",e.healthPoints*e.level)))})))),a.a.createElement("div",null,a.a.createElement("h3",null,"Nearby (",i.length,")"),a.a.createElement(le,null,i.map((function(e){return a.a.createElement("span",{key:e.id,className:"icon"},e.icon)})))))},ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},re=Object(c.b)(ee()),ae=c.a.div($(),function(){for(var e="",t=1;t<=18;t++)e+="&:nth-child(".concat(t,") { span { color: hsl(").concat(t/18*360,", 100%, 50%) } }");return e}(),re),ie=c.a.button(q(),J.colours.grey),oe=c.a.div(Z()),le=c.a.div(X()),ce=c.a.div(Q()),se=Object(s.b)(null,(function(e){return{startGame:function(){return e(E())}}}))((function(e){var t=e.startGame;return a.a.createElement(ae,null,a.a.createElement("h1",null,a.a.createElement(S.Wave,{text:"CRITTER COLLECTOR!"})),a.a.createElement("div",{className:"bigIconMenu"},a.a.createElement("span",{role:"img","aria-label":"Critter Collector"},"\ud83c\udfc6"),a.a.createElement("span",{role:"img","aria-label":"Critter Collector"},"\ud83d\ude3b"),a.a.createElement("span",{role:"img","aria-label":"Critter Collector"},"\ud83c\udfc6")),a.a.createElement(ie,{onClick:function(){return t()}},"LET'S GO!"),a.a.createElement("small",null,"(use the arrow keys or WASD to move around)"))})),ue=Object(s.b)((function(e){return{player:e.player}}),null)((function(e){var t=e.player;return a.a.createElement(ae,null,a.a.createElement("h2",null,"Game Over!"),a.a.createElement("p",null,"Oh no! All your Critters have fainted. Watch out for the higher leveled Critters of dangerous types, and make sure to use the Clinic to heal injured/fainted Critters."),a.a.createElement("p",null,"You caught ",t.critters.length," Critter",1===t.critters.length?"":"s","!"),a.a.createElement("div",{className:"bigIconEnd"},a.a.createElement("span",{role:"img","aria-label":"Game Over"},"\ud83d\ude3f")),a.a.createElement(ie,{onClick:function(){return window.location.reload()}},"LET'S GO AGAIN!"))})),de=Object(s.b)((function(e){return{player:e.player,ui:e.ui}}))((function(e){var t=e.player,n=e.ui;return a.a.createElement(a.a.Fragment,null,"menu"===n.gameState&&a.a.createElement(se,null),"end"===n.gameState&&a.a.createElement(ue,null),t.battle.active&&a.a.createElement(B,{player:t,ui:n}),a.a.createElement(te,{player:t,ui:n}))}));function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var he=function(e,t){for(var n=e.battle,r=e.battle,a=r.fighter,i=r.opponent,o=t.updateActiveCritterFighter,l=t.addCritterToPlayer,c=t.removeCritterFromWorld,s=t.increaseCritterLevel,u=t.updateBattleStatus,h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{log:[]}),f=!0;a.healthPoints*a.level>0&&i.healthPoints*i.level>0;){if(f){var m=a.combatPoints*x[a.type][i.type]*a.level;h.log.push("Your ".concat(ne(a.name)," hits ").concat(ne(i.name)," for (").concat(a.combatPoints*a.level," x ").concat(x[a.type][i.type],") ").concat(m,"!")),i.healthPoints=Math.max(i.healthPoints-m,0)}else{var v=i.combatPoints*x[i.type][a.type]*i.level;h.log.push("".concat(ne(i.name)," hits your ").concat(ne(a.name)," for (").concat(i.combatPoints*i.level," x ").concat(x[i.type][a.type],") ").concat(v,"!")),a.healthPoints=Math.max(a.healthPoints-v,0)}f=!f}if(0===n.log.length){if(0===a.healthPoints){h.log.push("".concat(ne(i.name)," wins! Your ").concat(ne(a.name)," faints."));var g=Object(d.a)(e.critters.filter((function(e){return e.healthPoints>0})));if(g.length>0){var y=g[Math.floor(Math.random()*g.length)];h.log.push("".concat(ne(y.name)," fights next time!")),o(y),h.fighter=y}else h.log.push("All critters have fainted!")}else{e.critters.find((function(e){return e.id===i.id}))||(l(i),c(i));var E="";Math.random()>=.5&&(s(a),E=" They level up to Lv. ".concat(a.level,".")),h.log.push("Your ".concat(ne(a.name)," wins! ").concat(ne(i.name)," caught.")+E)}u(h)}},fe=Object(s.b)((function(e){return{player:e.player}}),(function(e){return{updateActiveCritterFighter:function(t){return e(y(t))},addCritterToPlayer:function(t){return e(v(t))},removeCritterFromWorld:function(t){return e(g(t))},increaseCritterLevel:function(t){return e(b(t))},updateBattleStatus:function(t){return e(O(t))}}}))((function(e){var t=e.player,n={updateActiveCritterFighter:e.updateActiveCritterFighter,addCritterToPlayer:e.addCritterToPlayer,removeCritterFromWorld:e.removeCritterFromWorld,increaseCritterLevel:e.increaseCritterLevel,updateBattleStatus:e.updateBattleStatus};return Object(r.useEffect)((function(){return he(t,n)}),[n,t]),null})),me=n(20),ve=n.n(me),ge=n(21),ye=n.n(ge);function Ee(){var e=Object(l.a)(["\n  border: 0.5px solid rgba(0,0,0,0.1);\n  position: absolute;\n  width: ","vh;\n  height: ","vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-size: cover;\n  font-size: ","vh;\n  transform: scale(",", 1);\n  pointer-events: none;\n"]);return Ee=function(){return e},e}var be=c.a.div(Ee(),(function(e){return e.cellSize*e.scalingFactor}),(function(e){return e.cellSize*e.scalingFactor}),(function(e){return e.cellSize*e.scalingFactor}),(function(e){return e.flipCell?-1:1})),Te=Object(s.b)((function(e){return{world:e.world,player:e.player,ui:e.ui}}),null)((function(e){var t=e.x,n=e.y,r=e.player,i=e.world,o=e.ui,l=i.cellSize,c=i.worldSize,s=i.sandEdgeCells,u=i.critters,d=i.clinic,p=r.direction,h=r.nearbyCritters,f=r.position.x===t&&r.position.y===n,m=u.find((function(e){return e.position.x===t&&e.position.y===n})),v=t<2||n<2||t>=c-s||n>=c-s,g=d.x===t&&d.y===n,y={left:"".concat(t*l*o.scalingFactor,"vh"),top:"".concat(n*l*o.scalingFactor,"vh"),backgroundImage:"url(".concat(v?ve.a:ye.a,")")},E="",b=!1;return f?"up"===p||"down"===p?E="\ud83e\uddcd\u200d\u2642\ufe0f":"left"===p?E="\ud83d\udeb6\u200d\u2642\ufe0f":"right"===p&&(E="\ud83d\udeb6\u200d\u2642\ufe0f",b=!0):m&&h.find((function(e){return e.id===m.id}))?E=m.icon:g&&(E="\ud83c\udfe5"),a.a.createElement(be,{style:y,cellSize:l,scalingFactor:o.scalingFactor,flipCell:b},E)})),Oe=n(22),we=n.n(Oe);function Ce(){var e=Object(l.a)(["\n  position: relative;\n  width: ","vh;\n  height: ","vh;\n  overflow: hidden;\n  margin: 5vh;\n  border-radius: 5px;\n  border: 10px solid ",";\n  background-image: url(",");\n  background-repeat: repeat;\n  background-size: ","vh;\n"]);return Ce=function(){return e},e}var Ae=c.a.div(Ce(),(function(e){return 100*e.scalingFactor}),(function(e){return 100*e.scalingFactor}),J.colours.grey,we.a,(function(e){return e.cellSize*e.scalingFactor})),xe=Object(s.b)((function(e){return{world:e.world,player:e.player,scalingFactor:e.ui.scalingFactor}}),(function(e){return{addCritterToWorld:function(){return e(m())},addCritterToPlayer:function(){return e(v())},addClinicToWorld:function(){return e(T())},updatePlayerPosition:function(){return e(f())}}}))((function(e){var t=e.world,n=e.player,r=e.scalingFactor,i=e.addCritterToWorld,o=e.addCritterToPlayer,l=e.addClinicToWorld,c=e.updatePlayerPosition,s=[],u=t.worldSize,d=t.critterMaxPopulation,p=t.cellSize,h=t.critters;t.clinic||l();for(var f=0;f<d&&!(h.length>=d);f++)i(),c();n.critters.length<2&&o();for(var m=0;m<u;m++){for(var v=[],g=0;g<u;g++)v.push(a.a.createElement(Te,{x:g,y:m,key:"".concat(m,"-").concat(g)}));s.push(v)}return a.a.createElement(Ae,{scalingFactor:r,cellSize:p},a.a.createElement(L,{cells:s}),a.a.createElement(de,null),n.battle.active&&!n.battle.paused&&a.a.createElement(fe,null))})),_e=n(23),Pe=n.n(_e);function Re(){var e=Object(l.a)(["\n  position: absolute;\n  height: 99vh;\n  width: 95vh;\n  background: ",";\n  border-top-left-radius: 10px;\n  border-top-right-radius: 10px;\n  margin-top: 1vh;\n"]);return Re=function(){return e},e}function Ie(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100vh;\n  background-color: ",";\n  background-image: url(",");\n  background-repeat: repeat;\n  display: flex;\n  justify-content: center;\n  position: relative;\n  align-items: center;\n  flex-direction: column;\n  overflow: hidden;\n  .title {\n    color: white;\n    height: 4.5vh;\n    text-transform: uppercase;\n    position: relative;\n    text-shadow: 0 0 2px black;\n    margin: -6.2vh 0 0;\n    background: ",";\n    width: calc(",'vh + 20px);\n    display: flex;\n    align-items: flex-end;\n    justify-content: center;\n    padding: 1.5vh 0 1.5vh;\n    border-radius: 5px;\n    > span:last-child {\n      margin-left: 2vh;\n    }\n  }\n  .critter {\n    font-family: "Gill Sans", "Press Start 2P", sans-serif;\n    font-style: italic;\n    font-size: 4vh;\n  }\n  .collector {\n    font-family: "Comic Sans MS", "Press Start 2P", sans-serif;\n    font-size: 3.5vh;\n  }\n']);return Ie=function(){return e},e}var je,Me={world:{worldSize:27,cellRowSize:9,cellSize:100/9,edgeCellPosition:Math.floor(4.5),critterMaxPopulation:10,sandEdgeCells:2,critters:[],critterCounter:0},player:{position:{x:Math.floor(27*Math.random()),y:Math.floor(27*Math.random())},direction:"down",critters:[],nearbyCritters:[],battle:{active:!1}},ui:{scalingFactor:.8,gameState:"menu"}},Le=(je=Me,Object(u.b)(I,je,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),Se=c.a.div(Ie(),J.colours.grey,Pe.a,J.colours.grey,100*Me.ui.scalingFactor),De=c.a.div(Re(),J.colours.purple),ke=function(){return a.a.createElement(s.a,{store:Le},a.a.createElement(Se,null,a.a.createElement(De,null),a.a.createElement(xe,null),a.a.createElement("div",{className:"title"},a.a.createElement("span",{className:"critter"},"Critter"),a.a.createElement("span",{className:"collector"},a.a.createElement("span",{style:{color:"pink"}},"C"),a.a.createElement("span",{style:{color:"cyan"}},"o"),a.a.createElement("span",{style:{color:"purple"}},"l"),a.a.createElement("span",{style:{color:"gold"}},"l"),a.a.createElement("span",{style:{color:"green"}},"e"),a.a.createElement("span",{style:{color:"red"}},"c"),a.a.createElement("span",{style:{color:"yellow"}},"t"),a.a.createElement("span",{style:{color:"orange"}},"o"),a.a.createElement("span",{style:{color:"blue"}},"r")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.f92d280f.chunk.js.map